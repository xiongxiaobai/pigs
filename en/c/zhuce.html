<!DOCTYPE html>
<html lang="en" style="background-color: white;">

	<head>
		<meta charset="utf-8">
		<link rel="icon" href="" />
		<title>Registration</title>
		<meta name="keywords" content="Gopig battle game">
		<meta name="description" content="Gopig battle game">
		<link rel="stylesheet" type="text/css" href="css/AngryBirds.css">
		<script type="text/javascript" src="js/flexible.js"></script>
		<script src="https://cdn.dingxiang-inc.com/ctu-group/captcha-ui/index.js"></script>
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<script src="js/jquery-2.1.4.min.js"></script>
	</head>
	<style>
		#cnzz_stat_icon_1270505203 {
			display: none;
		}
		
		input::-webkit-input-placeholder {
			/*WebKit browsers*/
			color: rgb(204, 204, 204);
			line-height: 0.56rem;
			font-size: 0.28rem;
		}
		
		input::-moz-input-placeholder {
			/*Mozilla Firefox*/
			color: rgb(204, 204, 204);
			line-height: 0.56rem;
			font-size: 0.28rem;
		}
		
		input::-ms-input-placeholder {
			/*Internet Explorer*/
			color: rgb(204, 204, 204);
			line-height: 0.56rem;
			font-size: 0.28rem;
		}
		
		.fr {
			float: right;
			display: inline-block;
		}
		
		.row {
			margin-left: 0;
			margin-right: 0;
		}
	</style>

	<body>

		<nav class="navbar navbar-default navbar-inverse" style="margin-bottom: 0;">
			<div class="container-fluid">
				<!-- Brand and toggle get grouped for better mobile display -->

				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">

						<!--<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">語言 <span class="caret"></span></a>
							<ul class="dropdown-menu">
								<li>
									<a href="#">中文</a>
								</li>
								<li>
									<a href="javascript: void(window.open('http://translate.google.com/translate?u='+escape(location.href)+'&amp;langpair=zh-CN%7Cen', 'Chinese_to_English', 'resizable,scrollbars,status'))">English</a>
								</li>
								<li>
									<a href="javascript: void(window.open('http://translate.google.com/translate?u='+escape(location.href)+'&amp;langpair=zh-CN%7Cja', 'Chinese_to_Japanese', 'resizable,scrollbars,status'))">日本語</a>
								</li>
								<li>
									<a href="javascript: void(window.open('http://translate.google.com/translate?u='+escape(location.href)+'&amp;langpair=zh-CN%7Cko', 'Chinese_to_Korean', 'resizable,scrollbars,status'))">한국어.</a>
								</li>
							</ul>
						</li>-->
					</ul>
					<ul class="nav navbar-nav navbar-right">
						<li>
							<a href="index.html">Home</a>
						</li>
						<!--<li>
							<a href="buy.html">兑换套餐</a>
						</li>
						<li>
							<a href="twoDimension.html">邀请好友</a>
						</li>-->
						<li>
							<a href="http://gopig.io/en/IPGWhitePaper.pdf">Download Whitepaper</a>
						</li>

						<!--<li id="logn" style="display: none;">
							<a href="person.html"><span class="glyphicon glyphicon-user"> </span></a>
						</li>-->
						<li id="nologn">
							<a href="denglu.html">Login</a>
						</li>
						<li class="active">
							<a>Register</a>
						</li>

					</ul>

				</div>
				<!-- /.navbar-collapse -->
			</div>
			<!-- /.container-fluid -->
		</nav>
		<div class="row" style="margin-left: 0;margin-right: 0;">
			<div style="padding-left: 0;padding-right: 0;" class="col-md-12">
				<img src="images/img3.png" class="img-responsive" alt="Responsive image">
				<img class="img-responsive" alt="Responsive image" style="width: 35%;position: absolute;margin-left: 32%;margin-top: -25%;" src="images/img3.gif" />
			</div>
		</div>
		<div class="row">
			<div style="padding-right: 0;padding-left: 0;width: 15%;" class="col-md-2">
				<img class="img-responsive" alt="Responsive image" src="images/img46.png" />
				<img class="img-responsive" alt="Responsive image" src="images/img46.png" />
				<img class="img-responsive" alt="Responsive image" src="images/img46.png" />
				<img class="img-responsive" alt="Responsive image" src="images/img46.png" />
				<!--<img class="img-responsive" alt="Responsive image" src="images/img46.png" />-->
				<!--<img class="img-responsive" alt="Responsive image" src="images/img46.png" />
				<img class="img-responsive" alt="Responsive image" src="images/img46.png" />-->
				<!--<img class="img-responsive" alt="Responsive image" src="images/img46.png" />
				<img class="img-responsive" alt="Responsive image" src="images/img46.png" />-->
				<!--<img class="img-responsive" alt="Responsive image" src="images/img46.png" />-->
			</div>

			<div style="padding-right: 0;padding-left: 0;background-color: #3da900;width: 70%;" class="col-md-8">
				<div style="height:  0.4rem;"></div>
				<div style="width: 90%;margin-left: 5%;background-color: white;border-radius: 0.3rem;">
					<div style="height:  0.4rem;"></div>
					<div style="margin-top: 0.46rem;text-align: center;font-size: 0.4rem;font-weight: bold;color: black;">
						Welcome to join us! Register and get reward<span style="font-size: 0.4rem;color: #3ea800;">100 IPG</span>
					</div>
					<!--<img style="width: 80%;margin-left: 10%;margin-top: 0.46rem;" src="images/zc2.png" />-->

					<div style="width: 80%;height: 1.15rem;margin-left: 10%;margin-top: 0.86rem;border: 1px solid rgb(204, 204, 204);border-radius: 1rem;">
						<img style="width: 0.31rem;height: 0.46rem;float: left;margin-left: 0.51rem;margin-top: 0.35rem;" src="images/zc3.png" />
						<input style="float: left;border: 0;border-left: 0.03rem solid rgb(204, 204, 204);margin-left: 0.28rem;height: 0.56rem;margin-top: 0.3rem;width: 84%;padding-left: 0.31rem;font-size: 0.28rem;color: #535376;line-height: 0.56rem;border-radius: 0;" placeholder="Insert Phone Number" type="tel" id="phone" />
					</div>
					<div style="width: 80%;height: 1.15rem;margin-left: 10%;margin-top: 0.46rem;border: 1px solid rgb(204, 204, 204);border-radius: 1rem;">
						<img style="width: 0.32rem;height: 0.46rem;float: left;margin-left: 0.51rem;margin-top: 0.31rem;" src="images/zc4.png" />
						<input style="float: left;border: 0;border-left: 0.03rem solid rgb(204, 204, 204);margin-left: 0.27rem;height: 0.56rem;margin-top: 0.3rem;width: 84%;padding-left: 0.31rem;font-size: 0.28rem;color: #535376;line-height: 0.56rem;border-radius: 0;" placeholder="Insert Password" type="password" id="password" />
					</div>
					<div style="width: 80%;height: 1.15rem;margin-left: 10%;margin-top: 0.46rem;border: 1px solid rgb(204, 204, 204);border-radius: 1rem;">
						<img style="width: 0.32rem;height: 0.35rem;float: left;margin-left: 0.51rem;margin-top: 0.4rem;" src="images/zc5.png" />
						<input style="float: left;border: 0;border-left: 0.03rem solid rgb(204, 204, 204);margin-left: 0.27rem;height: 0.56rem;margin-top: 0.3rem;width: 84%;padding-left: 0.31rem;font-size: 0.28rem;color: #535376;line-height: 0.56rem;border-radius: 0;" placeholder="Ethereum address(Optional)" type="text" id="address" />
					</div>
					<div style="width: 80%;height: 1.15rem;margin-left: 10%;margin-top: 0.46rem;border: 1px solid rgb(204, 204, 204);border-radius: 1rem;">
						<img style="width: 0.38rem;height: 0.4rem;float: left;margin-left: 0.46rem;margin-top: 0.38rem;" src="images/zc6.png" />
						<input style="float: left;border: 0;border-left: 0.03rem solid rgb(204, 204, 204);margin-left: 0.27rem;height: 0.56rem;margin-top: 0.3rem;width: 84%;padding-left: 0.31rem;font-size: 0.28rem;color: #535376;line-height: 0.56rem;border-radius: 0;" placeholder="Invitation code(Optional)" type="text" id="inviteCode" />
					</div>
					<div style="margin: auto;margin-top: 0.5rem;" id="c1"></div>
					<img onclick="register()" style="width: 50%;margin-top: 0.5rem;margin-left: 25%;" src="images/zc7.png" />
					<!--<div style="margin-top: 0.31rem;text-align: center;">
						<div style="font-size: 0.3rem;font-weight: bold;color: black;">Complete the registration means you accepted user agreement</div>
						<div onclick="agreement()" style="color: #60b72c;font-size: 0.3rem;font-weight: bold;margin-top: 0.1rem;">《User Agreement》</div>
					</div>-->
					<!--<img onclick="agreement()" style="width: 30%;margin-top: 0.31rem;margin-left: 35%;" src="images/zc8.png" />-->

					<div style="width: 90%;border-radius: 0.3rem;margin-top: 0.67rem;margin-left: 5%;background-color: #5DA615;">
						<div style="height: 0.82rem;"></div>
						<div style="text-align: center;color: white;">
							<img style="width: 30%;margin-left: 35%" src="images/zc12.png" />
							<div style="margin-top: 0.6rem;font-size: 0.3rem;">Contact Us</div>
							<div style="margin-top: 0.4rem;font-size: 0.3rem;">info@gopig.io</div>
							<div style="margin-top: 0.4rem;font-size: 0.3rem;">Wechat：1504997349</div>
							<div style="margin-top: 0.4rem;font-size: 0.3rem;">Join official Wechat group</div>
						</div>
						<!--<img style="width: 3.7rem;padding-top: 0.82rem;margin-left: 2.4rem;height: 4.54rem;" src="images/zc9.png" />-->
						<img style="width: 20%;margin-top: 0.36rem;margin-left: 40%;" src="images/zc10.png" />
						<div style="height: 0.82rem;"></div>
					</div>
					<!--<div style="width: 90%;border-radius: 0.3rem;margin-top: 0.67rem;margin-left: 5%;background-color: #5DA615;">
						<div style="height: 0.82rem;"></div>
						<img style="width: 30%;margin-left: 35%;" src="images/zc9.png" />
						<img style="width: 20%;margin-top: 0.36rem;margin-left: 40%;" src="images/zc10.png" />
						<div style="height: 0.82rem;"></div>
					</div>-->

					<div style="height: 0.8rem;"></div>
				</div>
				<img src="images/zc11.png" />
			</div>

			<div style="padding-right: 0;padding-left: 0;width: 15%;" class="col-md-2">
				<img class="img-responsive" alt="Responsive image" src="images/img46.png" />
				<img class="img-responsive" alt="Responsive image" src="images/img46.png" />
				<img class="img-responsive" alt="Responsive image" src="images/img46.png" />
				<img class="img-responsive" alt="Responsive image" src="images/img46.png" />
				<!--<img class="img-responsive" alt="Responsive image" src="images/img46.png" />-->
				<!--<img class="img-responsive" alt="Responsive image" src="images/img46.png" />
				<img class="img-responsive" alt="Responsive image" src="images/img46.png" />-->
				<!--<img class="img-responsive" alt="Responsive image" src="images/img46.png" />
				<img class="img-responsive" alt="Responsive image" src="images/img46.png" />-->
				<!--<img class="img-responsive" alt="Responsive image" src="images/img46.png" />-->
			</div>
		</div>

		<script src="js/base/util.js"></script>
		<script src="js/base/url.js"></script>
		<script src="js/base/base_net.js"></script>
		<script src="js/gVerify.js"></script>
	</body>
	<script src="js/bootstrap.min.js"></script>
	<script>
		var is_code = true;
		var isback = true;
		var uid = '';
		var tk = '';
		var phone = "";
		uid = getLocal("pigUID")
		phone = getLocal("pigphone")
		setItem("pigphone", phone)
		setItem("pigUID", uid)
		setLocal("pigphone", phone)
		setLocal("pigUID", uid)
		$(document).ready(function() {
			var info_id = getUrlParam("info_id");
			$("#inviteCode").val(info_id);
			maidian()
			if(uid && uid != null && uid != "null"){
				window.location.href = "index.html"
			}
		})

		function register() {
			if(isback == false) {
				return;
			}

			var phone = $("#phone").val()
			var password = $("#password").val()
			//			var email = $("#email").val()
			//			var weixin = $("#weixin").val()
			var inviteCode = $("#inviteCode").val()
			//			var name = $("#name").val()
			var address = $("#address").val()

			if(phone == '' || phone == null || phone == 'null') {
				alert("Phone Number cannot be null")
				return
			}
//			if(!(/^1[0-9][0-9]\d{8}$/.test(phone))) {
//				alert("不是完整的11位手機號或者正確的手機號前七位");
//				return false;
//			}

			//			if(inviteCode == '' || inviteCode == null || inviteCode == 'null') {
			//				alert("邀请码不能为空")
			//				return
			//			}
			//
			//			if(weixin == '' || weixin == null || weixin == 'null') {
			//				alert("微信号不能为空")
			//				return
			//			}
			//			if(name == '' || name == null || name == 'null') {
			//				alert("姓名不能为空")
			//				return
			//			}

			if(password.length < 6) {
				alert("At least 6 digital needed！")
				return
			} else if(password == '' || password == null || password == 'null') {
				alert("Password cannot be null！")
				return
			}
			//			if(address == '' || address == null || address == 'null') {
			//				alert("地址不能为空")
			//				return
			//			}
			if(tk == '') {
				alert("Complete the verification please")
				return
			}
			isback = false;
			req(USER_IPG_REGISTER_URL, {
				'phone': phone,
				'password': password,
				//				'email': email,
				//				'weixin': weixin,
				'inviteCode': inviteCode,
				//				'username': name,
				'address': address,
				'token': tk
			}, function(data) {

				alert("Register completed! Please remeber your password：" + password)
				uid = data.user.uid
				setItem("pigUID", uid)
				setLocal("pigUID", uid)
				setLocal("pigphone", phone)
				setItem("pigphone", phone)
				isback = true;
				window.location = 'index.html'

			}, function(err) {
				isback = true;
				console.log(err.msg)
				alert(err.msg)
			})

		}

		function back() {
			window.location.href="denglu.html"
		}

		function getUrlParam(name) {
			var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
			var r = window.location.search.substr(1).match(reg); //匹配目标参数
			if(r != null) return unescape(r[2]);
			return null; //返回参数值
		}

		var myCaptcha = _dx.Captcha(document.getElementById('c1'), {
			appId: 'ccd387e44f717b10b6edf16c83261cb0', //appId,开通服务后可在控制台中“服务管理”模块获取
			style: 'embed',
			width: 300,
			// 下面开始自定义语言
			customLanguage: {
				init_inform: 'Slide the block below', // <-- 初始化时的提示文案
				load_fail: 'Loading failed，<a href="#">Please try again</a>！',
				loading: 'Loading...',
				pass_by_server: 'Verification completed',
				slide_inform: 'Slide to the right to finish the verification', // <-- 滑块中的提示文案
				smart_checking: 'Verifying',
				verify_success: 'Verification completed',
				verify_fail: 'Verification failed',
				verifying: 'Verifying......'
			},
			success: function(token) {
				console.log('token:', token)
				tk = token
			},
			fail: function(e) {
				console.log(e)
				alert("Verification failed，please try again")
				myCaptcha.reload()
			}
		})

		function agreement() {
			window.location = 'agreementText.html'
		}

		function maidian() {

			req(BURIED_POINT_RECORD, {
				'uid': uid,
				'name': "pig_zhuce_pc"
			}, function(data) {}, function(err) {})
		}
	</script>

</html>